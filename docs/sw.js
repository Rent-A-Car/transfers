const Static_CACHE_Version="21-01-22-2b",Static_CACHE="static-21-01-22-2b",Static_CACHEAssets=["./","./offline.html","./css/main.css","./css/iconsfont.css","./css/RobotoSlab.css","./css/bootstrap.min.css","./js/main.js","./js/menu.js","https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.min.js","./favicon.ico","./icons/android-chrome-192x192.png","./icons/apple-touch-icon-precomposed.png","./icons/GoogleLogo.svg","/css/fonts/iconsfont.woff2","/css/fonts/iconsfont.woff","https://fonts.gstatic.com/s/robotoslab/v12/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjojISma2RjRdE.woff2","https://fonts.gstatic.com/s/robotoslab/v12/BngbUXZYTXPIvIBgJJSb6s3BzlRRfKOFbvjojISmb2Rj.woff2","./manifest.webmanifest"],DCACHE="cache-auto",ROUTETable={};async function checkCache(t){if("GET"==t.method){let e=new URL(t.url),s=t;location.hostname==e.hostname&&(e.search="",s=new Request(e.toString(),{cache:t.cache,context:t.context,credentials:t.credentials,headers:t.headers,integrity:t.integrity,method:t.method,redirect:t.redirect,referrer:t.referrer,referrerPolicy:t.referrerPolicy,body:t.body,bodyUsed:t.bodyUsed}));const c=await caches.open(Static_CACHE);return await c.match(s||t)||checkOnline(s||t)}return await fetch(t)}async function checkOnline(t){const e=await caches.open(DCACHE);try{const s=await fetch(t);return await e.put(t,s.clone()),s}catch(s){console.log(s);const c=await e.match(t);if(c)return c}}self.addEventListener("install",async t=>{const e=await caches.open(Static_CACHE);await e.addAll(Static_CACHEAssets),console.log("Service worker встановлено")}),self.addEventListener("activate",async t=>{const e=(await caches.keys()).map(async t=>{[Static_CACHE].includes(t)||await caches.delete(t)});await Promise.all(e),console.log("Service worker актевовано (видалено застарілий кеш)")}),self.addEventListener("fetch",t=>{t.respondWith(checkCache(t.request))});