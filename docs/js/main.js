let CONETCSTATE=1;function b64EncodeUnicode(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,n){return String.fromCharCode("0x"+n)}))}function b64DecodeUnicode(e){return decodeURIComponent(atob(e).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}d=document,window.addEventListener("load",()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js").then(e=>{e.update(),e.waiting&&navigator.onLine&&e.unregister().then(e=>{window.location.reload()}).catch(e=>{window.console.log(e)}),console.log("Service worker successfully registered")}).catch(e=>{console.log("Service worker registration failed",e)})}),Swiper(d.getElementById("sidenav"),closeSidebarNav,4);const DetectConection=()=>{navigator.onLine?(console.log("online"),CONETCSTATE=1,d.getElementById("reloadnavbutton").classList.remove("d-none"),d.getElementById("offlinnavbutton").classList.add("d-none")):(console.log("offline"),CONETCSTATE=0,d.getElementById("reloadnavbutton").classList.add("d-none"),d.getElementById("offlinnavbutton").classList.remove("d-none"))};function openSidebarNav(){d=document,d.getElementById("sidenav").style.width="80%",d.getElementById("SidebarOpasity").style.width="100%",d.getElementById("SidebarOpasity").style.opacity="0.6"}function closeSidebarNav(){d=document,d.getElementById("sidenav").style.width="0",d.getElementById("SidebarOpasity").style.opacity="0.5",d.getElementById("SidebarOpasity").style.width="0px"}navigator.connection&&(console.log("have conn"),"onchange"in navigator.connection?(console.log("have onchange"),navigator.connection.onchange=DetectConection):"ontypechange"in navigator.connection&&(console.log("have ontypechange"),navigator.connection.ontypechange=DetectConection),DetectConection()),d.getElementById("menuopenbutton").addEventListener("click",openSidebarNav),d.getElementById("reloadnavbutton").addEventListener("click",()=>{startLoading(),page=sessionStorage.getItem("page"),data=sessionStorage.getItem("pdata"),page in PAGERENDER&&(f=PAGERENDER[page],f(data))}),d.getElementById("searchnavbutton").addEventListener("click",()=>{d.getElementById("searchnavbutton").classList.add("d-none"),d.getElementById("searchclsbutton").classList.remove("d-none"),d.getElementById("searchinput").classList.remove("d-none"),d.querySelector("#searchinput input").focus()}),d.getElementById("searchclsbutton").addEventListener("click",()=>{d.getElementById("searchnavbutton").classList.remove("d-none"),d.getElementById("searchclsbutton").classList.add("d-none"),d.getElementById("searchinput").classList.add("d-none"),d.querySelector("#searchinput input").value="",page=sessionStorage.getItem("page"),page in PAGESEARCH&&(f=PAGESEARCH[page],eval(f+"('')"))});const API=(()=>{let e=e=>(()=>new Promise((e,n)=>{firebase.auth().currentUser.getIdToken().then(e,n)}))().then(n=>{let t=new URL("https://script.google.com/macros/s/AKfycbz6fGzgSxLaCwhjcvvxFTcWRJHV5jKXyFvS0KljbUbjtW9CGKjY6-j8/exec");e&&(t.search=new URLSearchParams(e).toString());let o=new Request(t.toString(),{method:"POST",body:n});return console.log(o),fetch(o).then(e=>e.json()).then(e=>e)});return{signUp:n=>e({a:"signup",atk:n}),loginIn:n=>e({a:"login",atk:n}),like:n=>e({a:"like",drv:n}),dislike:n=>e({a:"dislike",drv:n})}})();